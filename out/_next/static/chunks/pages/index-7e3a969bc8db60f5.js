(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3508)}])},3508:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var s=n(4051),r=n.n(s),a=n(5893),o=n(9008),l=function(){return(0,a.jsx)("header",{className:"absolute top-0 w-screen px-6 flex flex-row items-center justify-start",children:(0,a.jsx)("p",{className:"font-QS text-[62px] text-secondary-100 sm:opacity-0 select-none cursor-pointer transition-all duration-300 hover:text-primary",children:"typo"})})},c=n(7294),i=function(e,t){var n=0;return e.forEach((function(e){return e===t&&n++})),n},u=function(e,t){for(var n=e.split(""),s=t.split(""),r=Math.max(n.length,s.length),a=[],o=0;o<r;o++)void 0===t[o]?a.push(void 0):e[o]!==t[o]?a.push(!1):e[o]===t[o]&&a.push(!0);return a},d=function(e){return e=e||2e3,new Promise((function(t){setTimeout((function(){t()}),e)}))},x=n(6435),m=n(303),f=function(e){var t=e.capsOn;return(0,a.jsx)("div",{className:"w-min h-min",children:(0,a.jsx)("svg",{width:t?"28":"0",height:t?"28":"0",viewBox:"0 0 16 16",className:"transition-all ".concat(t?"scale-100":"scale-0"),cursor:"pointer",fill:t?"#fda917":"#163461",children:(0,a.jsx)("path",{d:"M7.27 1.047a1 1 0 0 1 1.46 0l6.345 6.77c.6.638.146 1.683-.73 1.683H11.5v1a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1v-1H1.654C.78 9.5.326 8.455.924 7.816L7.27 1.047zM4.5 13.5a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1v-1z"})})})},p=function(e){var t=e.isFocussed;return(0,a.jsxs)("svg",{width:t?"36":"28",height:t?"36":"28",viewBox:"0 0 16 16",className:"transition-all duration-50",cursor:"pointer",fill:"#fda917",children:[(0,a.jsx)("path",{fillRule:"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"}),(0,a.jsx)("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"})]})},h=function(e){var t=e.finished,n=e.children,s=(0,x.e)(),r=s.setIsFinished,o=s.setCount,l=s.setPos,c=s.setScore,i=s.setText,u=s.setTime,d=s.setInput,f=s.setStart,p=s.setIsPb;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2 w-screen h-screen z-[148] ".concat(t?"z-[148] scale-100 opacity-100":"scale-0 -z-[150] opacity-0"),onClick:function(){r(!1),function(){for(var e=document.getElementsByClassName("letter"),t=0;t<e.length;t++)e[t].style.color="white";var n=document.getElementsByClassName("letter")[0];l([n.offsetTop,n.offsetLeft]),o(0),c({correct:0,incorrect:0,missed:0,extra:0}),i((0,m.R)(0,99,21)),u({start:0,end:0}),r(!1),d(""),f(!1),p(!1),document.getElementById("Hinput").focus()}()}}),(0,a.jsx)("div",{className:"fixed -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2 bg-secondary-100 p-4 w-[480px] h-72 transition-all rounded-lg duration-300  ".concat(t?"z-[150] scale-100 opacity-100":"scale-0 -z-[150] opacity-0"),children:n})]})},v=function(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",viewBox:"0 0 16 16",cursor:"pointer",children:(0,a.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})},g=function(e){var t=e.score,n=e.lable,s=e.className,r=e.big;return(0,a.jsxs)("div",{className:"text-secondary-200 transition-all hover:text-primary duration-300 relative cursor-pointer group "+s,children:[t,(0,a.jsx)("div",{className:"-translate-x-1/2 -translate-y-1/2 \n        \n        top-".concat(r?"32 scale-100":"24 scale-0 group-hover:scale-100 mt-2 select-none "," \n\n        left-1/2 absolute bg-secondary-200 w-max px-2 py-1 text-secondary-100 transition-all rounded-lg text-[18px] duration-200 "),children:n})]})},y=function(){var e=(0,x.e)(),t=e.score,n=e.time,s=e.text,r=e.high,o=e.setHigh,l=e.isPb,c=e.setIsPb,i=s.length/((n.end-n.start)/60),u=t.correct/(t.correct+t.incorrect+t.extra+t.missed),d=i*u;return d>r&&(o(Math.round(d)),localStorage.setItem("High",Math.round(d)),console.log(localStorage.getItem("High")),c(!0)),(0,a.jsxs)("div",{className:"grid place-content-center items-center justify-center h-full w-full select-none text-[60px]",children:[(0,a.jsxs)("div",{className:"flex w-full flex-row items-center justify-evenly -mt-4",children:[l&&(0,a.jsx)("div",{className:"absolute top-[52px] text-secondary-100 transition-all hover:text-primary",children:(0,a.jsxs)("div",{className:"relative w-min h-min group text-secondary-200 transition-all hover:text-primary",children:[(0,a.jsx)(v,{}),(0,a.jsx)("div",{className:"-translate-x-1/2 -translate-y-1/2 -top-6 left-1/2 absolute bg-secondary-200 w-max px-2 py-1 text-secondary-100 transition-all rounded-lg text-[18px] duration-200 scale-0 group-hover:scale-100 select-none font-sans",children:"new personal best"})]})}),(0,a.jsx)(g,{className:"text-[90px] mx-6",score:Math.round(d)||0,lable:"wpm",big:!0}),(0,a.jsx)(g,{className:"text-[90px] mx-6",score:Math.round(100*u)||0,lable:"accuracy",big:!0})]}),(0,a.jsxs)("div",{className:"flex mt-4",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-center mx-5",children:[(0,a.jsx)(g,{big:!1,score:t.correct,lable:"correct"}),(0,a.jsx)("p",{className:"text-secondary-200",children:"-"}),(0,a.jsx)(g,{big:!1,score:t.incorrect,lable:"incorrect"}),(0,a.jsx)("p",{className:"text-secondary-200",children:"-"}),(0,a.jsx)(g,{big:!1,score:t.missed,lable:"missed"}),(0,a.jsx)("p",{className:"text-secondary-200",children:"-"}),(0,a.jsx)(g,{big:!1,score:t.extra,lable:"extra"})]}),(0,a.jsx)(g,{className:"mx-4",score:Math.round(i)===1/0?0:Math.round(i),lable:"raw wpm"})]})]})},j=function(e){var t=e.input,n=e.wrong,s=e.caps,r=(0,x.e)().isFinished,o=(0,c.useState)(!1),l=o[0],i=o[1],u=(0,x.e)(),d=u.setIsFinished,v=u.setCount,g=u.setPos,j=u.setScore,w=u.setText,b=u.setTime,N=u.setInput,E=u.setStart,C=u.setIsPb,B=function(){for(var e=document.getElementsByClassName("letter"),t=0;t<e.length;t++)e[t].style.color="white";var n=document.getElementsByClassName("letter")[0];g([n.offsetTop,n.offsetLeft]),v(0),j({correct:0,incorrect:0,missed:0,extra:0}),w((0,m.R)(0,99,21)),b({start:0,end:0}),N(""),d(!1),E(!1),C(!1),document.getElementById("Hinput").focus()};return(0,a.jsxs)("div",{className:"w-fit flex justify-center items-center flex-col",children:[(0,a.jsx)("div",{className:"w-[400px] -m-4 h-2 ".concat(n?"bg-error":"bg-secondary-100"," rounded-full transition-all ")}),(0,a.jsx)(h,{finished:r,children:(0,a.jsx)(y,{})}),(0,a.jsxs)("div",{className:"flex flex-row items-center justify-evenly",children:[(0,a.jsxs)("div",{className:"relative w-min h-min group",children:[(0,a.jsx)(f,{capsOn:s}),(0,a.jsx)("div",{className:"-translate-x-1/2 -translate-y-1/2 top-14 left-1/2 absolute bg-secondary-100 w-max px-2 py-1 text-secondary-200 transition-all rounded-lg text-[18px] duration-200 scale-0 group-hover:scale-100 select-none",children:"capslock is on"})]}),(0,a.jsx)("div",{tabIndex:"1",className:"m-4 h-12 font-mono text-white text-[32px] w-full",children:t}),(0,a.jsxs)("div",{onClick:B,onKeyUp:B,tabIndex:"0",className:"relative w-min h-min group outline-none",onFocus:function(){i(!0)},onBlur:function(){i(!1)},children:[(0,a.jsx)(p,{isFocussed:l}),(0,a.jsxs)("div",{className:"flex flex-row items-center -translate-x-1/2 -translate-y-1/2 top-14 left-1/2 absolute bg-secondary-100 w-max px-2 py-1 text-secondary-200 transition-all rounded-lg text-[18px] duration-200 scale-0 group-hover:scale-100 select-none",children:["press",(0,a.jsx)("p",{className:"w-min px-1.5 mx-1 bg-secondary-200 rounded-lg text-secondary-100",children:"tab"}),"for next set of text"]})]})]})]})};function w(e,t,n,s,r,a,o){try{var l=e[a](o),c=l.value}catch(i){return void n(i)}l.done?t(c):Promise.resolve(c).then(s,r)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),s.forEach((function(t){b(e,t,n[t])}))}return e}function E(){var e=(0,x.e)(),t=e.score,n=e.setScore,s=e.isFinished,m=e.setIsFinished,f=e.count,p=e.setCount,h=e.pos,g=e.setPos,y=e.text,b=e.setTime,E=e.time,C=e.input,B=e.setInput,I=e.start,P=e.setStart,S=e.high,M=y,k=(0,c.useState)(!0),O=k[0],T=k[1],_=(0,c.useState)(!1),z=_[0],F=_[1],L=(0,c.useState)(!1),H=L[0],D=L[1],K=(0,c.useState)(!1),R=K[0],A=K[1];return(0,c.useEffect)((function(){document.getElementById("Hinput").focus()}),[]),(0,c.useEffect)((function(){var e=document.getElementsByClassName("letter")[0];g([e.offsetTop,e.offsetLeft])}),[]),(0,c.useEffect)((function(){if(f<M.length){if(""!==C&&0===C.trim().length)return void B("");if(C.split(" ").length>1){var e=u(M[f],C.trim()),s=e.slice(0,M[f].length),r=C.length-(M[f].length+1);n({correct:(null===t||void 0===t?void 0:t.correct)+i(e,!0),incorrect:(null===t||void 0===t?void 0:t.incorrect)+i(s,!1),missed:(null===t||void 0===t?void 0:t.missed)+i(e,void 0),extra:(null===t||void 0===t?void 0:t.extra)+(r>0?r:0)}),B(""),p(f+1),D(!1)}else{var a=u(M[f],C),o=document.getElementsByClassName("word")[f],l=o.getElementsByClassName("letter")[C.length];if(i(a,!1)>0?D(!0):D(!1),C.length>M[f].length)return;g([l.offsetTop,l.offsetLeft]),a.map((function(e,t){void 0===e&&(o.getElementsByClassName("letter")[t].style.color="white"),!1===e&&(o.getElementsByClassName("letter")[t].style.color="#ff1b39b7"),!0===e&&(o.getElementsByClassName("letter")[t].style.color="#1a3763")}))}}f===M.length-1&&(m(!0),P(!1),b(N({},E,{end:Date.now()/1e3})))}),[C]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen bg-secondary-200",children:[(0,a.jsxs)(o.default,{children:[(0,a.jsx)("title",{children:"typo"}),(0,a.jsx)("meta",{name:"description",content:"Generated by create next app"})]}),(0,a.jsx)(l,{}),(0,a.jsxs)("div",{id:"txt",className:"mt-10 p-8 relative max-w-3xl font-mono font-extralight text-white text-[26px] z-30",onClick:function(){document.getElementById("Hinput").focus()},children:[(0,a.jsxs)("div",{className:"flex flex-row items-center ",children:[(0,a.jsxs)("div",{className:"text-secondary-100 select-none",children:[f,"/",y.length-1]}),(0,a.jsxs)("div",{className:"relative w-min h-min group ml-5 text-secondary-100 transition-all hover:text-primary",children:[(0,a.jsx)(v,{}),(0,a.jsxs)("div",{className:"-translate-x-1/2 -translate-y-1/2 -top-6 left-1/2 absolute bg-secondary-100 w-max px-2 py-1 text-secondary-200 transition-all rounded-lg text-[18px] duration-200 scale-0 group-hover:scale-100 select-none font-sans",children:["Personal Best - ",S,"wpm"]})]})]}),(0,a.jsx)("div",{className:"absolute w-[3.5px] h-[30px] bg-primary rounded-md select-no ne transition-all duration-[0.1s]\n            ".concat(O?"opacity-100  ".concat(!z&&"animate-pulse"):"opacity-0"),style:{position:"absolute",top:h[0]+1.5,left:h[1]}}),M.map((function(e,t){return(0,a.jsxs)("label",{className:"word",children:[e.split("").map((function(e,t){return(0,a.jsx)("label",{className:"letter",children:e},t)})),(0,a.jsx)("label",{className:"letter",children:" "})]},t)}))]}),(0,a.jsx)(j,{wrong:H,input:C,caps:R}),(0,a.jsx)("input",{tabIndex:"1",id:"Hinput",value:C,onChange:function(e){B(e.target.value),I||I||(b(N({},E,{start:Date.now()/1e3})),P(!0))},onFocus:function(){T(!0)},onBlur:function(){T(!1)},onKeyDown:function(){F(!0)},onKeyUp:function(){var e,t=(e=r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(t.getModifierState("CapsLock")),e.next=3,d(500);case 3:F(!1);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(s,r){var a=e.apply(t,n);function o(e){w(a,s,r,o,l,"next",e)}function l(e){w(a,s,r,o,l,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),maxLength:s?"0":"18",className:"font-mono text-black px-2 scale-0",type:"text"})]})})}},9008:function(e,t,n){e.exports=n(5443)}},function(e){e.O(0,[774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);